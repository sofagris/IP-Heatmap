<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyber Attack Visualization</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map {
            height: 100vh;
            background-color: #000;
        }

        .meteor {
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #ff0000;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(255, 0, 0, 0.7);
            pointer-events: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="map"></div>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialize the map
        var map = L.map('map').setView([51.505, -0.09], 2);

        L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);

        // Coordinates for your location and attacker's location
        var yourLocation = [51.505, -0.09]; // Replace with your coordinates
        var attackerLocation = [40.7128, -74.0060]; // Example: New York, replace with attacker's coordinates

        // Function to create the meteor effect
        function createMeteorEffect(attackerCoords, yourCoords) {
            var startPoint = map.latLngToContainerPoint(attackerCoords);
            var endPoint = map.latLngToContainerPoint(yourCoords);

            var meteorDiv = document.createElement('div');
            meteorDiv.className = 'meteor';
            document.body.appendChild(meteorDiv);

            var totalFrames = 100; // Total number of frames for the animation
            var currentFrame = 0;

            function animate() {
                currentFrame++;
                var progress = currentFrame / totalFrames;
                var lat = startPoint.y + ((endPoint.y - startPoint.y) * progress);
                var lng = startPoint.x + ((endPoint.x - startPoint.x) * progress);

                L.DomUtil.setPosition(meteorDiv, L.point(lng, lat));

                if (currentFrame < totalFrames) {
                    requestAnimationFrame(animate);
                } else {
                    // Clean up after animation
                    document.body.removeChild(meteorDiv);
                }
            }

            animate();
        }

        // Trigger the meteor effect
        createMeteorEffect(attackerLocation, yourLocation);

    </script>
</body>
</html>
